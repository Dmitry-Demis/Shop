# ЛАБОРАТОРНАЯ РАБОТА №3
**Дедлайн: до 00:01:00 24.11.2024**

## Цель:
Разработать приложение, имитирующее работу магазина.

---

## Описание задачи:

В приложении будет несколько компонентов:
- **Товары** (продаются в Магазинах).
- **Магазины**, которые имеют уникальный код, название и адрес.
- У каждого товара есть уникальное название, а в каждом магазине установлена своя цена на товар и количество единиц товара, которые могут быть в наличии.

### Задачи:
1. Реализовать методы для следующих операций:
   - **Создать магазин**.
   - **Создать товар**.
   - **Завезти партию товаров в магазин** (набор товар-количество с возможностью установить/изменить цену).
   - **Найти магазин**, в котором определённый товар самый дешевый.
   - Определить, какие товары можно купить в магазине на некоторую сумму (например, на 100 рублей можно купить три мороженки или две шоколадки).
   - **Купить партию товаров в магазине** (параметры - сколько каких товаров купить, метод возвращает общую стоимость покупки либо её невозможность, если товара не хватает).
   - Найти, в каком магазине партия товаров (набор товар-количество) имеет наименьшую сумму (например, «в каком магазине дешевле всего купить 10 гвоздей и 20 шурупов»). Учитывать наличие товара в магазинах.

2. Приложение должно быть организовано в несколько слоёв:
   - **Клиент** — точка входа в приложение, обращается к **сервисному слою**, который в свою очередь работает с **слоем DAL**.
   - **BLL** (Business Logic Layer) — основной слой с логикой приложения (например, поиск товаров в магазинах).
   - **DAL** (Data Access Layer) — два варианта реализации: реляционная база данных и работа с файлами (CSV). Тип подключения определяется в конфигурационном файле (`appsettings.json`). База данных должна работать в асинхронном режиме.

---

## Требования к реализации:

1. **Реляционная база данных**:
   - Схему таблиц и запросы определяем сами.
   - Не использовать хранимые процедуры.
   
2. **Работа с файлами**:
   - Для магазинов: файл в формате CSV, где каждая строка содержит код магазина и его название.
   - Для товаров: файл в формате CSV, где каждая строка содержит название товара, за которым следуют значения: код магазина, количество товара в магазине и цена.

3. **Основные требования**:
   - Все операции с магазином и товарами должны быть реализованы через сервисы.
   - Для каждого магазина хранится уникальный код и название.
   - Для товаров для каждого магазина указывается его количество и цена.
   
4. **Принципы SOLID**:
   - Решение должно следовать принципам SOLID для лучшей модульности, расширяемости и тестируемости.

5. **Архитектура**:
   - Разработанное приложение должно быть спроектировано согласно рекомендациям из книги **"Архитектура корпоративных программных приложений"** М. Фаулера.

---

## Описание операций:

1. **Создать магазин**:
   - Необходимо создать магазин с уникальным кодом, названием и адресом.

2. **Создать товар**:
   - Создать товар с уникальным названием, который будет доступен в нескольких магазинах.

3. **Завезти партию товаров**:
   - Необходимо добавить в магазин определённое количество товаров и установить цену.

4. **Найти магазин с наименьшей ценой на товар**:
   - Определить, в каком магазине товар продаётся по наименьшей цене.

5. **Определить товары, которые можно купить на сумму**:
   - Нужно рассчитать, сколько товаров можно купить в магазине на определённую сумму.

6. **Купить партию товаров**:
   - Рассчитать стоимость покупки партии товаров или вернуть невозможность покупки, если товаров не хватает.

7. **Найти магазин с наименьшей стоимостью партии товаров**:
   - Рассчитать, в каком магазине партия товаров будет стоить дешевле.

---

## Особенности реализации:

- Все операции должны быть выполнены с учётом наличия товара в магазинах.
- Для работы с базой данных использовать асинхронный подход.
- При работе с файлами использовать CSV формат.
  
---

## Дополнительные пожелания:

- В ходе реализации можно использовать авто-документацию Swagger для упрощения тестирования и работы с API.

---
